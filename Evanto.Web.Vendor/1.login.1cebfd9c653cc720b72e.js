webpackJsonp([1],{131:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(1),l=n(r),s=a(2),o=n(s),i=function(e){var t=e.children,a=e.confirm,n=e.cancel,r=e.header,s=e.show,o=e.confirmText,i=e.cancelText;return l.default.createElement("div",{className:"modal",tabIndex:"-1",role:"dialog",style:{display:""+(s?"block":"none")}},l.default.createElement("div",{className:"modal-dialog",role:"document"},l.default.createElement("div",{className:"modal-content"},l.default.createElement("div",{className:"modal-header"},l.default.createElement("button",{onClick:n,type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},l.default.createElement("span",{"aria-hidden":"true",style:{fontStyle:"lowerCase !important"}},"x")),l.default.createElement("h4",{className:"modal-title",id:"myModalLabel"},r)),l.default.createElement("div",{className:"modal-body"},t),l.default.createElement("div",{className:"modal-footer"},i&&l.default.createElement("button",{onClick:n,type:"button",className:"btn btn-default btn-simple","data-dismiss":"modal"},i),o&&l.default.createElement("button",{onClick:a,type:"button",className:"btn btn-success btn-fill"},o)))))};i.propTypes={children:o.default.node.isRequired},t.default=i},132:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),l=n(r),s=a(3),o=n(s),i=a(10),u=n(i),c=a(5),f=n(c),d=a(4),m=n(d),p=a(1),h=n(p),g=a(116),v=(n(g),a(85)),b=n(v);a(140);var E=function(e){function t(e){return(0,o.default)(this,t),(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e))}return(0,m.default)(t,e),(0,u.default)(t,[{key:"componentDidUpdate",value:function(){var e=this;(0,b.default)("div.notification").each(function(e,t){setTimeout(function(){(0,b.default)(t).fadeOut()},3e3)}),(0,b.default)("div.notification").click(function(){(0,b.default)(e).fadeOut()})}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.notifications;return h.default.createElement("div",{className:"notification-container"},a&&a.map(function(e,a){return h.default.createElement("div",{key:a,className:"notification notification-"+t},h.default.createElement("div",{className:"notification-message"},h.default.createElement("div",{className:"message"},e.text)))}))}}]),t}(p.Component);t.default=E},133:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=a(131),l=n(r),s=a(132),o=n(s);t.Notification=o.default,t.Modal=l.default},140:373,338:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments[1],a=h[t.type];return a?a(e,t):e}Object.defineProperty(t,"__esModule",{value:!0}),t.clearError=t.register=t.CLEAR_ERROR=t.REGISTER_ERROR=t.REGISTER_SUCCESS=t.REGISTER_REQUEST=void 0;var l,s=a(39),o=n(s),i=a(6),u=n(i),c=a(30),f=n(c),d=a(43),m=n(d);t.default=r;var p=a(61),h=(a(24),a(26),a(49),{}),g={requestPending:!1},v=t.REGISTER_REQUEST="REGISTER_REQUEST",b=t.REGISTER_SUCCESS="REGISTER_SUCCESS",E=t.REGISTER_ERROR="REGISTER_ERROR",y=t.CLEAR_ERROR="CLEAR_ERROR",w=function(){return{type:v}},C=function(e){var t=e.response,a=e.meta;return{type:b,payload:t,meta:a}},R=function(e){return{type:E,error:e}};t.register=function(e){return console.log("PARAMS",e),function(t,a){return new m.default(function(a,n){t(w()),p.AccountApi.register(e).then(function(a){console.log("RESPONSE REGISTER",a),t(C({response:a,meta:{username:e.username,password:e.passwordString}}))}).catch(function(e){t(R(e.response))})})}},t.clearError=function(){return function(e,t){return new m.default(function(t,a){e({type:y})})}};(0,f.default)(h,(l={},(0,o.default)(l,v,function(e){return(0,u.default)({},e,{requestPendingRegister:!0,error:void 0})}),(0,o.default)(l,b,function(e,t){return(0,u.default)({},e,{requestPendingRegister:!1,meta:t.payload})}),(0,o.default)(l,E,function(e,t){return(0,u.default)({},e,{requestPendingRegister:!1,error:t.error})}),(0,o.default)(l,y,function(e,t){return(0,u.default)({},e,{requestPendingRegister:!1,error:!1})}),l))},710:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),l=n(r),s=a(8),o=n(s),i=a(1),u=n(i),c=a(49),f=a(77),d=(n(f),a(24)),m=function(e){var t=e.input,a=e.label,n=e.meta,r=n.touched,s=n.error,i=e.labelClass,c=(0,o.default)(e,["input","label","meta","labelClass"]);return u.default.createElement("label",{className:i+" "+(r&&s)},u.default.createElement("span",{className:"label-text"},a),u.default.createElement("input",(0,l.default)({},t,c,{name:"firstName"})))},p=function(e){var t={};return e.username?(e.username.length>30||e.username.length<3)&&(t.username="Must be between 30 and 3 characters"):t.username="Required",e.password?(e.password.length>20||e.password.length<5)&&(t.password="Must be between 20 and 5 characters"):t.password="Required",t},h=function(e){var t=e.handleSubmit;e.pristine,e.reset,e.submitting,e.cancel,e.currentDate,e.requestPendingLogin;return u.default.createElement("div",{className:"containerx"},u.default.createElement("h1",{className:"text-center"},"Login"),u.default.createElement("form",{className:"formx registration-form"},u.default.createElement(c.Field,{name:"username",label:"Username",component:m}),u.default.createElement(c.Field,{name:"password",type:"password",label:"Password",component:m}),u.default.createElement("label",{className:"checkbox"},u.default.createElement("span",{id:"spnNav"},"Don't have an account? ",u.default.createElement(d.Link,{to:"/register"},"Register"))),u.default.createElement("div",{className:"text-center"},u.default.createElement("button",{className:"submit",type:"button",onClick:t,name:"register"},"Login"))))};t.default=(0,c.reduxForm)({form:"loginForm",validate:p})(h)},711:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(11),l=n(r),s=a(3),o=n(s),i=a(10),u=n(i),c=a(5),f=n(c),d=a(4),m=n(d),p=a(1),h=n(p),g=a(17),v=a(213),b=a(710),E=n(b),y=a(1007),w=(n(y),a(133),a(24),a(310),function(e){function t(e){(0,o.default)(this,t);var a=(0,f.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.state={errorMainCount:0,requestPendingLogin:!1},a}return(0,m.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.login;t.error,t.clearError;return h.default.createElement(E.default,{onSubmit:function(t){a(t),e.setState({requestPendingLogin:!0})}})}}]),t}(p.Component)),C={login:v.login,clearError:v.clearError},R=function(e){return{error:e.login.error,errorMain:e.error.error}};t.default=(0,g.connect)(R,C)(w)},713:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(6),l=n(r),s=a(8),o=n(s),i=a(1),u=n(i),c=a(49),f=a(24),d=a(1209),m=n(d),p=a(714),h=function(e){var t=e.input,a=e.label,n=e.meta,r=n.touched,s=n.error,i=e.labelClass,c=(0,o.default)(e,["input","label","meta","labelClass"]);return u.default.createElement("label",{className:(r&&s?"invalid":"")+" "+i},u.default.createElement("span",{className:"label-text"},""+a),r&&s&&u.default.createElement("i",{className:"fa fa-exclamation-triangle tooltip2"},u.default.createElement("span",{className:"tooltiptext"},s)),u.default.createElement("input",(0,l.default)({},t,c,{name:"firstName"})))},g=function(e){var t=e.input,a=e.label,n=e.meta,r=n.touched,s=n.error,i=e.labelClass,f=(0,o.default)(e,["input","label","meta","labelClass"]);return u.default.createElement("label",{className:i+" "+(r&&s?"invalid":"")},u.default.createElement("span",{className:"label-text"},a),r&&s&&u.default.createElement("i",{className:"fa fa-exclamation-triangle tooltip2"},u.default.createElement("span",{className:"tooltiptext"},s)),u.default.createElement(m.default,(0,l.default)({onChange:function(e){console.log("EEEE",e),(0,c.change)("phone",e.target.value)}},t,f,{mask:"+\\9\\9\\4 99 999 99 99",type:"text"})))},v=function(e){var t=e.register,a=e.handleSubmit;e.pristine,e.reset,e.submitting,e.cancel,e.currentDate,e.requestPendingLogin;return u.default.createElement("div",{className:"containerx"},u.default.createElement("h1",{className:"text-center"},"Register"),u.default.createElement("form",{className:"formx registration-form",onSubmit:a(t)},u.default.createElement(c.Field,{name:"firstName",type:"text",labelClass:"col-one-half",component:h,label:"First name"}),u.default.createElement(c.Field,{name:"lastName",type:"text",labelClass:"col-one-half",component:h,label:"Last name"}),u.default.createElement(c.Field,{name:"name",type:"text",component:h,label:"Company name"}),u.default.createElement(c.Field,{name:"phone",label:"Phone",component:g}),u.default.createElement(c.Field,{name:"username",component:h,label:"Email",type:"text"}),u.default.createElement(c.Field,{name:"passwordString",component:h,label:"Password",type:"password"}),u.default.createElement("label",{className:"checkbox"},u.default.createElement("input",{type:"checkbox",name:"newsletter"}),u.default.createElement("span",null,"I read and accept ",u.default.createElement("b",null,"terms and conditions"))),u.default.createElement("label",{className:"checkbox"},u.default.createElement("span",{id:"spnNav"},"Already have an account? ",u.default.createElement(f.Link,{to:"/login"},"Log in"))),u.default.createElement("div",{className:"text-center"},u.default.createElement("button",{className:"submit",type:"submit",name:"register"},"Sign Me Up"))))};t.default=(0,c.reduxForm)({form:"registerForm",validate:p.validate,returnRejectedSubmitPromise:!0,enableReinitialize:!0})(v)},714:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validate=function(e){var t={};return e.username?(e.username.length>30||e.username.length<3)&&(t.username="Must be between 30 and 3 characters"):t.username="Required",e.company?(e.company.length>30||e.company.length<3)&&(t.company="Must be between 30 and 3 characters"):t.company="Required",e.firstName?(e.firstName.length>30||e.firstName.length<3)&&(t.firstName="Must be between 30 and 3 characters"):t.firstName="Required",e.lastName?(e.lastName.length>30||e.lastName.length<3)&&(t.lastName="Must be between 30 and 3 characters"):t.lastName="Required",e.phone||(t.phone="Required",console.log("VALUES PHONE",e.phone)),e.passwordString?(e.passwordString.length>20||e.passwordString.length<5)&&(t.passwordString="Must be between 20 and 5 characters"):t.passwordString="Required",t}},715:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(43),l=n(r),s=a(11),o=n(s),i=a(3),u=n(i),c=a(10),f=n(c),d=a(5),m=n(d),p=a(4),h=n(p),g=a(1),v=n(g),b=a(17),E=a(713),y=n(E),w=a(338),C=(a(24),a(49),a(310),function(e){function t(e){(0,u.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,o.default)(t)).call(this,e));return a.handleRegister=function(e){var t=a.props,n=t.error,r=t.register;return new l.default(function(t,a){r(e),n&&a(n)})},a}return(0,h.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this,t=this.props;t.register,t.error,t.clearError;return v.default.createElement(y.default,{register:function(t){e.handleRegister(t).catch(function(e){})}})}}]),t}(g.Component)),R={register:w.register,clearError:w.clearError},P=function(e){return{error:e.login.error}};t.default=(0,b.connect)(P,R)(C)},1006:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t,a){var n=Math.min(Math.max(t,e),a),r=a-t,l=Math.round((n-t)/r*1e4)/1e4;return 100*l}function l(e,t){var a=e.max,n=e.min,l=e.value,s=t.muiTheme,o=s.baseTheme.palette,i=s.borderRadius,u={root:{position:"relative",height:4,display:"block",width:"100%",backgroundColor:o.primary3Color,borderRadius:i,margin:0,overflow:"hidden"},bar:{height:"100%"},barFragment1:{},barFragment2:{}};return"indeterminate"===e.mode?(u.barFragment1={position:"absolute",backgroundColor:e.color||o.primary1Color,top:0,left:0,bottom:0,transition:_.default.create("all","840ms",null,"cubic-bezier(0.650, 0.815, 0.735, 0.395)")},u.barFragment2={position:"absolute",backgroundColor:e.color||o.primary1Color,top:0,left:0,bottom:0,transition:_.default.create("all","840ms",null,"cubic-bezier(0.165, 0.840, 0.440, 1.000)")}):(u.bar.backgroundColor=e.color||o.primary1Color,u.bar.transition=_.default.create("width",".3s",null,"linear"),u.bar.width=r(l,n,a)+"%"),u}Object.defineProperty(t,"__esModule",{value:!0});var s=a(6),o=n(s),i=a(8),u=n(i),c=a(11),f=n(c),d=a(3),m=n(d),p=a(10),h=n(p),g=a(5),v=n(g),b=a(4),E=n(b),y=a(13),w=n(y),C=a(1),R=n(C),P=a(2),S=n(P),k=a(18),_=n(k),x=function(e){function t(){return(0,m.default)(this,t),(0,v.default)(this,(t.__proto__||(0,f.default)(t)).apply(this,arguments))}return(0,E.default)(t,e),(0,h.default)(t,[{key:"componentDidMount",value:function(){var e=this;this.timers={},this.timers.bar1=this.barUpdate("bar1",0,this.refs.bar1,[[-35,100],[100,-90]],0),this.timers.bar2=setTimeout(function(){e.barUpdate("bar2",0,e.refs.bar2,[[-200,100],[107,-8]],0)},850)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timers.bar1),clearTimeout(this.timers.bar2)}},{key:"barUpdate",value:function(e,t,a,n,r){var l=this;if("indeterminate"===this.props.mode){r=r||420,t=t||0,t%=4;var s=this.context.muiTheme.isRtl?"left":"right",o=this.context.muiTheme.isRtl?"right":"left";0===t?(a.style[o]=n[0][0]+"%",a.style[s]=n[0][1]+"%"):1===t?a.style.transitionDuration="840ms":2===t?(a.style[o]=n[1][0]+"%",a.style[s]=n[1][1]+"%"):3===t&&(a.style.transitionDuration="0ms"),this.timers[e]=setTimeout(function(){return l.barUpdate(e,t+1,a,n)},r)}}},{key:"render",value:function(){var e=this.props,t=e.style,a=(0,u.default)(e,["style"]),n=this.context.muiTheme.prepareStyles,r=l(this.props,this.context);return R.default.createElement("div",(0,o.default)({},a,{style:n((0,w.default)(r.root,t))}),R.default.createElement("div",{style:n(r.bar)},R.default.createElement("div",{ref:"bar1",style:n(r.barFragment1)}),R.default.createElement("div",{ref:"bar2",style:n(r.barFragment2)})))}}]),t}(C.Component);x.defaultProps={mode:"indeterminate",value:0,min:0,max:100},x.contextTypes={muiTheme:S.default.object.isRequired},t.default=x},1007:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(1006),l=n(r);t.default=l.default},1209:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=a(1),f=n(c),d=function(e){function t(e){l(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));m.call(a),a.hasValue=null!=e.value,a.charsRules=null!=e.formatChars?e.formatChars:a.defaultCharsRules;var n=a.parseMask(e.mask),r=null!=e.defaultValue?e.defaultValue:"",o=null!=e.value?e.value:r;return o=a.getStringValue(o),a.mask=n.mask,a.permanents=n.permanents,a.lastEditablePos=n.lastEditablePos,a.maskChar="maskChar"in e?e.maskChar:a.defaultMaskChar,a.mask&&(e.alwaysShowMask||o)&&(o=a.formatValue(o)),a.state={value:o},a}return o(t,e),t}(f.default.Component),m=function(){var e=this;this.defaultCharsRules={9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},this.defaultMaskChar="_",this.lastCursorPos=null,this.isAndroidBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("firefox","i"),a=new RegExp("android","i"),n=navigator.userAgent;return!e.test(n)&&!t.test(n)&&a.test(n)},this.isWindowsPhoneBrowser=function(){var e=new RegExp("windows","i"),t=new RegExp("phone","i"),a=navigator.userAgent;return e.test(a)&&t.test(a)},this.isAndroidFirefox=function(){var e=new RegExp("windows","i"),t=new RegExp("firefox","i"),a=new RegExp("android","i"),n=navigator.userAgent;return!e.test(n)&&t.test(n)&&a.test(n)},this.isDOMElement=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":u(HTMLElement))?e instanceof HTMLElement:1===e.nodeType&&"string"==typeof e.nodeName},this.getInputDOMNode=function(){var t=e.input;return t?e.isDOMElement(t)?t:f.default.findDOMNode(t):null},this.enableValueAccessors=function(){if(e.canUseAccessors){var t=e.getInputDOMNode();e.valueDescriptor=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"),Object.defineProperty(t,"value",{configurable:!0,enumerable:!0,get:function(){return e.value},set:function(a){e.value=a,e.valueDescriptor.set.call(t,a)}})}},this.disableValueAccessors=function(){var t=e.valueDescriptor;if(t){e.valueDescriptor=null;var a=e.getInputDOMNode();Object.defineProperty(a,"value",t)}},this.getInputValue=function(){var t,a=e.getInputDOMNode(),n=e.valueDescriptor;return t=n?n.get.call(a):a.value},this.setInputValue=function(t){var a=e.getInputDOMNode();e.value=t,a.value=t},this.getPrefix=function(){for(var t="",a=e.mask,n=0;n<a.length&&e.isPermanentChar(n);++n)t+=a[n];return t},this.getFilledLength=function(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.value,n=e.maskChar;if(!n)return a.length;for(t=a.length-1;t>=0;--t){var r=a[t];if(!e.isPermanentChar(t)&&e.isAllowedChar(r,t))break}return++t||e.getPrefix().length},this.getLeftEditablePos=function(t){for(var a=t;a>=0;--a)if(!e.isPermanentChar(a))return a;return null},this.getRightEditablePos=function(t){for(var a=e.mask,n=t;n<a.length;++n)if(!e.isPermanentChar(n))return n;return null},this.isEmpty=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.value;return!t.split("").some(function(t,a){return!e.isPermanentChar(a)&&e.isAllowedChar(t,a)})},this.isFilled=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state.value;return e.getFilledLength(t)===e.mask.length},this.createFilledArray=function(e,t){for(var a=[],n=0;n<e;n++)a[n]=t;return a},this.formatValue=function(t){var a=e.maskChar,n=e.mask;if(!a){var r=e.getPrefix(),l=r.length;for(t=e.insertRawSubstr("",t,0);t.length>l&&e.isPermanentChar(t.length-1);)t=t.slice(0,t.length-1);return t.length<l&&(t=r),t}if(t){var s=e.formatValue("");return e.insertRawSubstr(s,t,0)}return t.split("").concat(e.createFilledArray(n.length-t.length,null)).map(function(t,r){return e.isAllowedChar(t,r)?t:e.isPermanentChar(r)?n[r]:a}).join("")},this.clearRange=function(t,a,n){var r=a+n,l=e.maskChar,s=e.mask;if(!l){var o=e.getPrefix().length;return t=t.split("").filter(function(e,t){return t<o||t<a||t>=r}).join(""),e.formatValue(t)}return t.split("").map(function(t,n){return n<a||n>=r?t:e.isPermanentChar(n)?s[n]:l}).join("")},this.replaceSubstr=function(e,t,a){return e.slice(0,a)+t+e.slice(a+t.length)},this.insertRawSubstr=function(t,a,n){var r=e.mask,l=e.maskChar,s=e.isFilled(t),o=e.getPrefix().length;a=a.split(""),!l&&n>t.length&&(t+=r.slice(t.length,n));for(var i=n;i<r.length&&a.length;){var u=e.isPermanentChar(i);if(u&&r[i]!==a[0])!l&&i>=t.length?t+=r[i]:l&&u&&a[0]===l&&a.shift(),++i;else{var c=a.shift();e.isAllowedChar(c,i,!0)&&(i<t.length?t=l||s||i<o?e.replaceSubstr(t,c,i):e.formatValue(t.substr(0,i)+c+t.substr(i)):l||(t+=c),++i)}}return t},this.getRawSubstrLength=function(t,a,n){var r=e.mask,l=n;for(a=a.split("");l<r.length&&a.length;)if(e.isPermanentChar(l)&&r[l]!==a[0])++l;else{var s=a.shift();e.isAllowedChar(s,l,!0)&&++l}return l-n},this.isAllowedChar=function(t,a){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.mask,l=e.maskChar;if(e.isPermanentChar(a))return r[a]===t;var s=r[a],o=e.charsRules[s];return new RegExp(o).test(t||"")||n&&t===l},this.isPermanentChar=function(t){return e.permanents.indexOf(t)!==-1},this.setCursorToEnd=function(){var t=e.getFilledLength(),a=e.getRightEditablePos(t);null!==a&&e.setCursorPos(a)},this.setSelection=function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.getInputDOMNode();if(n){var r=t+a;if("selectionStart"in n&&"selectionEnd"in n)n.selectionStart=t,n.selectionEnd=r;else{var l=n.createTextRange();l.collapse(!0),l.moveStart("character",t),l.moveEnd("character",r-t),l.select()}}},this.getSelection=function(){var t=e.getInputDOMNode(),a=0,n=0;if("selectionStart"in t&&"selectionEnd"in t)a=t.selectionStart,n=t.selectionEnd;else{var r=document.selection.createRange();r.parentElement()===t&&(a=-r.moveStart("character",-t.value.length),n=-r.moveEnd("character",-t.value.length))}return{start:a,end:n,length:n-a}},this.getCursorPos=function(){return e.getSelection().start},this.setCursorPos=function(t){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return setTimeout(e,0)},n=e.setSelection.bind(e,t,0);n(),a(n),e.lastCursorPos=t},this.isFocused=function(){return document.activeElement===e.getInputDOMNode()},this.parseMask=function(t){if(!t||"string"!=typeof t)return{mask:null,lastEditablePos:null,permanents:[]};var a="",n=[],r=!1,l=null;return t.split("").forEach(function(t){r||"\\"!==t?(r||!e.charsRules[t]?n.push(a.length):l=a.length+1,a+=t,r=!1):r=!0}),{mask:a,lastEditablePos:l,permanents:n}},this.getStringValue=function(e){return e||0===e?e+"":""},this.componentWillMount=function(){var t=e.mask,a=e.state.value;t&&a&&e.setState({value:a})},this.componentWillReceiveProps=function(t){e.hasValue=null!=t.value,e.charsRules=null!=t.formatChars?t.formatChars:e.defaultCharsRules;var a=e.mask,n=e.parseMask(t.mask),r=n.mask&&n.mask!==e.mask;if(e.mask=n.mask,e.permanents=n.permanents,e.lastEditablePos=n.lastEditablePos,e.maskChar="maskChar"in t?t.maskChar:e.defaultMaskChar,!e.mask)return void(e.lastCursorPos=null);var l=null!=t.value?e.getStringValue(t.value):e.state.value;a||null!=t.value||(l=e.getInputDOMNode().value);var s=t.alwaysShowMask||e.isFocused();if((r||n.mask&&(l||s))&&(l=e.formatValue(l),r)){var o=e.lastCursorPos,i=e.getFilledLength(l);(null===o||i<o)&&(o=e.isFilled(l)?i:e.getRightEditablePos(i),e.setCursorPos(o))}!n.mask||!e.isEmpty(l)||s||e.hasValue&&t.value||(l=""),e.value=l,e.state.value!==l&&e.setState({value:l})},this.componentDidUpdate=function(t){(e.mask||t.mask)&&null==e.props.value&&e.updateUncontrolledInput(),e.valueDescriptor&&e.getInputValue()!==e.state.value&&e.setInputValue(e.state.value)},this.updateUncontrolledInput=function(){e.getInputValue()!==e.state.value&&e.setInputValue(e.state.value)},this.onKeyDown=function(t){var a="function"==typeof e.props.onKeyDown;if(t.ctrlKey||t.metaKey)return void(a&&e.props.onKeyDown(t));var n=e.getCursorPos(),r=e.state.value,l=t.key,s=!1;switch(l){case"Backspace":case"Delete":var o=e.getPrefix().length,i="Delete"===l,u=e.getSelection();if(u.length)r=e.clearRange(r,u.start,u.length);else if(n<o||!i&&n===o)n=o;else{var c=i?e.getRightEditablePos(n):e.getLeftEditablePos(n-1);null!==c&&(r=e.clearRange(r,c,1),n=c)}s=!0}a&&e.props.onKeyDown(t),r!==e.state.value&&(e.setInputValue(r),e.setState({value:e.hasValue?e.state.value:r}),s=!0,"function"==typeof e.props.onChange&&e.props.onChange(t)),s&&(t.preventDefault(),e.setCursorPos(n))},this.onKeyPress=function(t){var a=t.key,n="function"==typeof e.props.onKeyPress;if("Enter"===a||t.ctrlKey||t.metaKey)return void(n&&e.props.onKeyPress(t));if(!e.isWindowsPhoneBrowser){var r=e.getCursorPos(),l=e.getSelection(),s=e.state.value,o=e.mask,i=e.lastEditablePos,u=e.getPrefix().length;if(e.isPermanentChar(r)&&o[r]===a)s=e.insertRawSubstr(s,a,r),++r;else{var c=e.getRightEditablePos(r);null!==c&&e.isAllowedChar(a,c)&&(s=e.clearRange(s,l.start,l.length),s=e.insertRawSubstr(s,a,c),r=c+1)}s!==e.state.value&&(e.setInputValue(s),e.setState({value:e.hasValue?e.state.value:s}),"function"==typeof e.props.onChange&&e.props.onChange(t)),t.preventDefault(),r<i&&r>u&&(r=e.getRightEditablePos(r)),e.setCursorPos(r)}},this.onChange=function(t){var a=e.pasteSelection,n=e.mask,r=e.maskChar,l=e.lastEditablePos,s=e.getInputValue();if(!s&&e.preventEmptyChange)return e.disableValueAccessors(),e.preventEmptyChange=!1,void e.setInputValue(e.state.value);var o=e.state.value;if(a)return e.pasteSelection=null,void e.pasteText(o,s,a,t);var i,u=e.getSelection(),c=u.end,f=n.length,d=s.length,m=o.length,p=e.getPrefix().length;if(d>m){var h=d-m,g=u.end-h,v=s.substr(g,h);c=g<l&&(1!==h||v!==n[g])?e.getRightEditablePos(g):g,s=s.substr(0,g)+s.substr(g+h),i=e.clearRange(s,g,f-g),i=e.insertRawSubstr(i,v,c),s=e.insertRawSubstr(o,v,c),1!==h||c>=p&&c<l?c=e.getFilledLength(i):c<l&&c++}else if(d<m){var b=f-d;i=e.clearRange(o,u.end,b);var E=s.substr(0,u.end),y=E===o.substr(0,u.end);r&&(s=e.insertRawSubstr(i,E,0)),i=e.clearRange(i,u.end,f-u.end),i=e.insertRawSubstr(i,E,0),y?c<p&&(c=p):c=e.getFilledLength(i)}s=e.formatValue(s),e.isWindowsPhoneBrowser?(t.persist(),setTimeout(function(){e.setInputValue(s),e.hasValue||e.setState({value:s}),"function"==typeof e.props.onChange&&e.props.onChange(t),e.setCursorPos(c)},0)):(e.canUseAccessors&&e.isAndroidBrowser||e.setInputValue(s),e.canUseAccessors&&(e.isAndroidFirefox&&s&&!e.getInputValue()||e.isAndroidBrowser)&&(e.value=s,e.enableValueAccessors(),e.isAndroidFirefox&&(e.preventEmptyChange=!0),setTimeout(function(){e.preventEmptyChange=!1,e.disableValueAccessors()},0)),e.setState({value:e.hasValue?e.state.value:s}),"function"==typeof e.props.onChange&&e.props.onChange(t),e.setCursorPos(c))},this.onFocus=function(t){if(e.state.value)e.getFilledLength()<e.mask.length&&e.setCursorToEnd();else{var a=e.getPrefix(),n=e.formatValue(a),r=e.formatValue(n),l=r!==t.target.value;l&&(t.target.value=r),e.setState({value:e.hasValue?e.state.value:r},e.setCursorToEnd),l&&"function"==typeof e.props.onChange&&e.props.onChange(t)}"function"==typeof e.props.onFocus&&e.props.onFocus(t)},this.onBlur=function(t){if(!e.props.alwaysShowMask&&e.isEmpty(e.state.value)){var a="",n=a!==e.getInputValue();n&&e.setInputValue(a),e.setState({value:e.hasValue?e.state.value:""}),n&&"function"==typeof e.props.onChange&&e.props.onChange(t)}"function"==typeof e.props.onBlur&&e.props.onBlur(t)},this.onPaste=function(t){if(e.isAndroidBrowser)return e.pasteSelection=e.getSelection(),void e.setInputValue("");var a;if(window.clipboardData&&window.clipboardData.getData?a=window.clipboardData.getData("Text"):t.clipboardData&&t.clipboardData.getData&&(a=t.clipboardData.getData("text/plain")),a){var n=e.state.value,r=e.getSelection();e.pasteText(n,a,r,t)}t.preventDefault()},this.pasteText=function(t,a,n,r){var l=n.start;n.length&&(t=e.clearRange(t,l,n.length));var s=e.getRawSubstrLength(t,a,l);t=e.insertRawSubstr(t,a,l),l+=s,l=e.getRightEditablePos(l)||l,t!==e.getInputValue()&&(r&&e.setInputValue(t),e.setState({value:e.hasValue?e.state.value:t}),r&&"function"==typeof e.props.onChange&&e.props.onChange(r)),e.setCursorPos(l)},this.componentDidMount=function(){e.isAndroidBrowser=e.isAndroidBrowser(),e.isWindowsPhoneBrowser=e.isWindowsPhoneBrowser(),e.isAndroidFirefox=e.isAndroidFirefox();var t=e.getInputDOMNode();if(t&&Object.getOwnPropertyDescriptor&&Object.getPrototypeOf&&Object.defineProperty){var a=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value");e.canUseAccessors=!!(a&&a.get&&a.set)}e.mask&&null==e.props.value&&e.updateUncontrolledInput()},this.render=function(){var t=e.props,a=(t.mask,t.alwaysShowMask,t.maskChar,t.formatChars,r(t,["mask","alwaysShowMask","maskChar","formatChars"]));if(e.mask){if(!a.disabled&&!a.readOnly){var n=["onFocus","onBlur","onChange","onKeyDown","onKeyPress","onPaste"];n.forEach(function(t){a[t]=e[t]})}null!=a.value&&(a.value=e.state.value)}return f.default.createElement("input",i({ref:function(t){return e.input=t}},a))}};t.default=d}});